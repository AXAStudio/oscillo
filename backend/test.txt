Local Debugging Logger Initialized. Output file: test.txt


=== get_portfolio_history DEBUG START ===

fetch_full_data: requesting vendor prices...
fetch_full_data returned keys=['AAPL', 'AMZN', 'GOOGL', 'JPM', 'KO', 'META', 'MSFT', 'NVDA', 'TSLA', 'VOO', 'XOM']
Starting portfolio history aggregation...
Orders DataFrame...
   ticker  quantity   price                        timestamp
0    CA$H     10000    1.00 2025-08-11 13:35:12.666823+00:00
1    AMZN         3  190.05 2025-08-11 19:00:05.123456+00:00
2     XOM         8  114.33 2025-08-12 13:35:10.987654+00:00
3    AAPL         2  670.67 2025-08-12 14:56:35.351519+00:00
4   GOOGL         4  163.20 2025-08-12 19:30:45.000321+00:00
5    TSLA        10  200.25 2025-08-13 15:58:54.442574+00:00
6    MSFT         5  430.10 2025-08-13 16:20:30.654321+00:00
7     VOO         3  512.75 2025-08-14 13:40:12.111111+00:00
8    NVDA         1  120.50 2025-08-14 18:45:59.222222+00:00
9     JPM         5  210.45 2025-08-15 14:55:05.333333+00:00
10     KO        12   63.71 2025-08-15 19:10:22.555555+00:00
11   META         2  470.12 2025-08-15 19:59:30.444444+00:00
12   AAPL        -1  675.20        2025-08-18 14:10:00+00:00
13   TSLA        -4  202.15        2025-08-18 19:50:33+00:00
14   NVDA        -1  121.30        2025-08-19 15:05:45+00:00
15    VOO        -1  514.90        2025-08-19 19:40:10+00:00
16   MSFT        -2  431.25        2025-08-20 13:45:12+00:00
17  GOOGL        -1  164.00        2025-08-20 18:59:59+00:00
18     KO        -5   64.10        2025-08-21 14:30:06+00:00
19   AMZN        -1  189.70        2025-08-21 19:15:22+00:00
20   TSLA        -3  203.05        2025-08-22 13:35:31+00:00
21   META        -1  471.50        2025-08-22 19:58:48+00:00
Prices DataFrame...
                  AAPL        AMZN       GOOGL         JPM         KO        META        MSFT        NVDA        TSLA         VOO         XOM
Date                                                                                                                                         
2025-07-16  209.921768  223.190002  182.970001  285.820007  69.269997  702.909973  505.619995  171.369995  321.670013  573.739990  111.195290
2025-07-17  209.781921  223.880005  183.580002  289.899994  70.589996  701.409973  511.700012  173.000000  319.410004  577.179993  110.630547
2025-07-18  210.940598  226.130005  185.059998  291.269989  69.849998  704.280029  510.049988  172.410004  329.649994  576.919983  106.776405
2025-07-21  212.239120  229.300003  190.100006  290.970001  70.070000  712.969971  510.059998  171.380005  328.489990  577.950012  107.053825
2025-07-22  214.156952  227.470001  191.339996  291.429993  69.660004  704.809998  505.269989  167.029999  332.109985  577.950012  107.539307
2025-07-23  213.907227  228.289993  190.229996  296.760010  69.160004  713.580017  505.869995  170.779999  332.559998  582.859985  108.916489
2025-07-24  213.517670  232.229996  192.169998  296.549988  69.099998  714.799988  510.880005  173.740005  305.299988  583.260010  109.768562
2025-07-25  213.637543  231.440002  193.179993  298.619995  69.169998  712.679993  513.710022  173.500000  316.059998  585.580017  109.382156
2025-07-28  213.807358  232.789993  192.580002  298.279999  68.089996  717.630005  512.500000  176.750000  325.589996  585.440002  110.412575
2025-07-29  211.030502  231.009995  195.750000  297.040009  69.379997  700.000000  512.570007  175.509995  321.200012  583.919983  111.839287
2025-07-30  208.813019  230.190002  196.529999  299.630005  68.750000  695.210022  513.239990  179.270004  319.040009  583.210022  110.868332
2025-07-31  207.334702  234.110001  191.899994  296.239990  67.889999  773.440002  533.500000  177.869995  308.269989  581.020020  110.610725
2025-08-01  202.150589  214.750000  189.130005  289.369995  68.860001  750.010010  524.109985  173.720001  302.630005  571.450012  108.629166
2025-08-04  203.119492  211.649994  195.039993  294.260010  68.959999  776.369995  535.640015  180.000000  309.260010  580.140015  106.380096
2025-08-05  202.689957  213.750000  194.669998  291.369995  69.050003  763.460022  527.750000  178.259995  308.720001  577.349976  106.251289
2025-08-06  213.008255  222.309998  196.089996  291.350006  69.510002  771.989990  524.940002  179.419998  319.910004  581.640015  105.528023
2025-08-07  219.780563  223.130005  196.520004  286.940002  70.430000  761.830017  520.840027  180.770004  322.269989  581.289978  104.973183
2025-08-08  229.090012  222.690002  201.419998  288.760010  70.339996  769.299988  522.039978  182.699997  329.649994  585.739990  105.815353
2025-08-11  227.179993  221.300003  201.000000  289.559998  70.750000  765.869995  521.770020  182.059998  339.029999  584.539978  104.854294
2025-08-12  229.649994  221.470001  203.339996  292.850006  70.709999  790.000000  529.239990  183.160004  340.839996  590.780029  105.151520
2025-08-13  233.330002  224.559998  201.960007  290.529999  70.459999  780.080017  520.580017  181.589996  339.380005  592.840027  106.607971
2025-08-14  232.779999  230.979996  202.940002  294.160004  69.550003  782.130005  522.479980  182.020004  335.579987  592.849976  106.389999
2025-08-15  231.589996  231.029999  203.899994  290.489990  69.919998  785.229980  520.169983  180.449997  330.559998  591.570007  106.489998
Portfolio history fetched successfully.




OUTPUT:{'TIMESTAMP': ['2025-08-11T00:00:00', '2025-08-12T00:00:00', '2025-08-13T00:00:00', '2025-08-14T00:00:00', '2025-08-15T00:00:00'], 'pv:CA$H': [0.0, 9429.85, 6521.07, 2368.07, 709.32], 'dv:CA$H': [0.0, 0.0, -0.308465, -0.636859, -0.700465], 'pv:AAPL': [0.0, 0.0, 466.660004, 465.559998, 463.179993], 'dv:AAPL': [0.0, 0.0, 0.0, -0.002357, -0.005112], 'pv:AMZN': [0.0, 664.410004, 673.679993, 692.939987, 693.089996], 'dv:AMZN': [0.0, 0.0, 0.013952, 0.028589, 0.000216], 'pv:GOOGL': [0.0, 0.0, 807.840027, 811.76001, 815.599976], 'dv:GOOGL': [0.0, 0.0, 0.0, 0.004852, 0.00473], 'pv:JPM': [0.0, 0.0, 0.0, 0.0, 0.0], 'dv:JPM': [0.0, 0.0, 0.0, 0.0, 0.0], 'pv:KO': [0.0, 0.0, 0.0, 0.0, 0.0], 'dv:KO': [0.0, 0.0, 0.0, 0.0, 0.0], 'pv:META': [0.0, 0.0, 0.0, 0.0, 0.0], 'dv:META': [0.0, 0.0, 0.0, 0.0, 0.0], 'pv:MSFT': [0.0, 0.0, 0.0, 2612.399902, 2600.849915], 'dv:MSFT': [0.0, 0.0, 0.0, 0.0, -0.004421], 'pv:NVDA': [0.0, 0.0, 0.0, 0.0, 180.449997], 'dv:NVDA': [0.0, 0.0, 0.0, 0.0, 0.0], 'pv:TSLA': [0.0, 0.0, 0.0, 3355.799866, 3305.599976], 'dv:TSLA': [0.0, 0.0, 0.0, 0.0, -0.014959], 'pv:VOO': [0.0, 0.0, 0.0, 0.0, 1774.710022], 'dv:VOO': [0.0, 0.0, 0.0, 0.0, 0.0], 'pv:XOM': [0.0, 0.0, 852.86377, 851.119995, 851.919983], 'dv:XOM': [0.0, 0.0, 0.0, -0.002045, 0.00094], 'pv:TOTAL': [0.0, 10094.260004, 9322.113793, 11157.649758, 11394.719857], 'dv:TOTAL': [0.0, 0.0, -0.076494, 0.196901, 0.021247]}